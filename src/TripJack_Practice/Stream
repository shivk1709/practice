import java.util.*;
import java.util.stream.*;

public class StreamExamples {
    public static void main(String[] args) {
        List<Integer> numbers = Arrays.asList(54, 6);

        // ✅ Max
        int max = numbers.stream()
                         .mapToInt(Integer::intValue)
                         .max()
                         .orElseThrow();

        // ✅ Min
        int min = numbers.stream()
                         .mapToInt(Integer::intValue)
                         .min()
                         .orElseThrow();

        // ✅ Sum
        int sum = numbers.stream()
                         .mapToInt(Integer::intValue)
                         .sum();

        // ✅ Average
        double avg = numbers.stream()
                            .mapToInt(Integer::intValue)
                            .average()
                            .orElse(0.0);

        // ✅ Count
        long count = numbers.stream()
                            .count();

        // ✅ Department -> Average Salary (Sorted by department)
        SortedMap<String, Double> avgSalaryByDept = employees.stream()
            .collect(Collectors.groupingBy(
                Employee::getDepartment,                      // key = department
                TreeMap::new,                                 // sorted map
                Collectors.averagingDouble(Employee::getSalary) // value = average salary
            ));

        // ✅ List -> SortedMap (department -> list of employee names)
        SortedMap<String, List<String>> departmentMap = employees.stream()
            .collect(Collectors.groupingBy(
                Employee::getDepartment,   // key = department
                TreeMap::new,              // use TreeMap for sorted keys
                Collectors.mapping(        // convert Employee -> name
                    Employee::getName,
                    Collectors.toList()
                )
            ));

        // ✅ Find Second Largest Number in Array
        int[] arr = {54, 6, 23, 89, 23, 54};
        int secondLargest = Arrays.stream(arr)
                                  .boxed()                    // convert int -> Integer
                                  .distinct()                 // remove duplicates
                                  .sorted(Comparator.reverseOrder()) // sort descending
                                  .skip(1)                    // skip the largest
                                  .findFirst()                // get the next one
                                  .orElseThrow(() -> new RuntimeException("No second largest found"));

        // ✅ Group Names by First Letter (Sorted)
        List<String> names = Arrays.asList("Amit", "Anita", "Rahul", "Ravi", "Ajay");

        SortedMap<Character, List<String>> grouped = names.stream()
            .collect(Collectors.groupingBy(
                name -> name.charAt(0),   // key = first letter
                TreeMap::new,             // sorted by key
                Collectors.toList()       // value = list of names
            ));

        System.out.println(grouped);
    }
}
